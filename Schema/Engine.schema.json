{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "definitions": {
    "Picture": {
      "$id": "#Picture",
      "type": "object",
      "properties": {
        "ownMemory": {
          "type": "integer"
        },
        "width": {
          "type": "integer"
        },
        "height": {
          "type": "integer"
        },
        "orientation": {
          "type": "integer"
        }
      }
    },
    "Genie": {
      "$id": "#Genie",
      "definitions": {
        "Game": {
          "$id": "#Genie.Game",
          "definitions": {
            "ColorTable": {
              "$id": "#Genie.ColorTable",
              "type": "object",
              "properties": {
                "id": {
                  "type": "integer"
                },
                "name": {
                  "type": "string"
                }
              }
            },
            "World": {
              "$id": "#Genie.World",
              "definitions": {
                "Sound": {
                  "$id": "#Genie.Sound",
                  "type": "object",
                  "properties": {
                    "id": {
                      "type": "integer",
                      "minimum": 0
                    }
                  },
                  "required": [
                    "id"
                  ]
                },
                "Sprite": {
                  "$id": "#Genie.Sprite",
                  "type": "object",
                  "properties": {
                    "id": {
                      "type": "integer",
                      "minimum": 0
                    }
                  },
                  "required": [
                    "id"
                  ]
                },
                "Scenario": {
                  "$id": "#Genie.Scenario",
                  "definitions": {
                    "Timeline": {
                      "$id": "#Genie.Scenario.Timeline",
                      "type": "object"
                    }
                  },
                  "type": "object",
                  "properties": {
                    "timeline": {
                      "$ref": "#Genie.Scenario.Timeline"
                    },
                    "victoryConquest": {
                      "type": "integer"
                    },
                    "playerNames": {
                      "type": "array",
                      "maxItems": 16,
                      "items": {
                        "anyOf": [
                          {
                            "type": "string",
                            "maxLength": 256
                          },
                          {
                            "type": "null"
                          }
                        ]
                      }
                    },
                    "scenarioName": {
                      "type": "string",
                      "maxLength": 256
                    },
                    "description": {
                      "type": "string"
                    },
                    "hints": {
                      "type": "string"
                    },
                    "winMessage": {
                      "type": "string"
                    },
                    "lossMessage": {
                      "type": "string"
                    },
                    "historicalNotes": {
                      "type": "string"
                    },
                    "temporaryTexts": {
                      "type": "array",
                      "maxItems": 3,
                      "items": {
                        "anyOf": [
                          {
                            "type": "string"
                          },
                          {
                            "type": "null"
                          }
                        ]
                      }
                    },
                    "buildListFiles": {
                      "type": "array",
                      "maxItems": 16,
                      "items": {
                        "type": "object",
                        "properties": {
                          "name": {
                            "type": "string"
                          },
                          "data": {
                            "type": "string"
                          }
                        }
                      }
                    },
                    "cityPlanFiles": {
                      "type": "array",
                      "maxItems": 16,
                      "items": {
                        "type": "object",
                        "properties": {
                          "name": {
                            "type": "string"
                          },
                          "data": {
                            "type": "string"
                          }
                        }
                      }
                    },
                    "aiRuleFiles": {
                      "type": "array",
                      "maxItems": 16,
                      "items": {
                        "type": "object",
                        "properties": {
                          "name": {
                            "type": "string"
                          },
                          "data": {
                            "type": "string"
                          }
                        }
                      }
                    },
                    "cinematicPreGame": {
                      "type": "string",
                      "maxLength": 224
                    },
                    "cinematicVictory": {
                      "type": "string",
                      "maxLength": 224
                    },
                    "cinematicLoss": {
                      "type": "string",
                      "maxLength": 224
                    },
                    "missionBitmap": {
                      "type": "string",
                      "maxLength": 224
                    },
                    "version": {
                      "type": "number"
                    },
                    "playerPostures": {
                      "type": "array",
                      "maxItems": 16,
                      "items": {
                        "type": "integer"
                      }
                    },
                    "playerTypes": {
                      "type": "array",
                      "maxItems": 16,
                      "items": {
                        "type": "integer"
                      }
                    },
                    "playerCivilizations": {
                      "type": "array",
                      "items": {
                        "type": "integer"
                      }
                    },
                    "playerActives": {
                      "type": "array",
                      "items": {
                        "type": "integer"
                      }
                    },
                    "missionPicture": {
                      "$ref": "#Picture"
                    }
                  }
                }
              },
              "type": "object",
              "properties": {
                "colorTables": {
                  "type": "array",
                  "items": {
                    "$ref": "#/definitions/Genie/definitions/Game/definitions/ColorTable"
                  }
                },
                "sounds": {
                  "type": "array",
                  "items": {
                    "$ref": "#Genie.Sound"
                  }
                },
                "sprites": {
                  "type": "array",
                  "items": {
                    "anyOf": [
                      {
                        "type": "null"
                      },
                      {
                        "$ref": "#Genie.Sprite"
                      }
                    ]
                  }
                },
                "scenario": {
                  "$ref": "#Genie.Scenario"
                }
              }
            },
            "Map": {
              "$id": "#Genie.Map",
              "definitions": {
                "Tile": {
                  "$id": "#Genie.Tile",
                  "anyOf": [
                    {
                      "type": "array",
                      "items": {
                        "not": {
                          "anyOf": [
                            {
                              "type": "object"
                            },
                            {
                              "type": "array"
                            }
                          ]
                        }
                      }
                    },
                    {
                      "type": "object",
                      "properties": {
                        "screenPosition": {
                          "type": "array",
                          "minItems": 2,
                          "maxItems": 2,
                          "items": {
                            "type": "integer"
                          }
                        },
                        "type": {
                          "type": "integer"
                        },
                        "terrainId": {
                          "type": "integer"
                        },
                        "height": {
                          "type": "integer"
                        },
                        "overlayId": {
                          "type": "integer"
                        },
                        "borderId": {
                          "type": "integer"
                        },
                        "borderShape": {
                          "type": "integer"
                        },
                        "lastDrawnAs": {
                          "type": "integer"
                        },
                        "lastDrawnShape": {
                          "type": "integer"
                        },
                        "lastDrawnShape2": {
                          "type": "integer"
                        },
                        "drawnAs": {
                          "type": "integer"
                        },
                        "drawnAttribute": {
                          "type": "integer"
                        },
                        "areaControl": {
                          "type": "integer"
                        },
                        "multiTileVector": {
                          "type": "integer"
                        },
                        "objectDeleteLock": {
                          "type": "integer"
                        },
                        "placeHolders": {
                          "type": "array",
                          "items": {
                            "type": "integer"
                          }
                        }
                      }
                    }
                  ]
                }
              },
              "type": "object",
              "properties": {
                "mapSize": {
                  "type": "array",
                  "minItems": 2,
                  "maxItems": 2,
                  "items": {
                    "type": "integer"
                  }
                },
                "worldSize": {
                  "type": "array",
                  "minItems": 2,
                  "maxItems": 2,
                  "items": {
                    "type": "integer"
                  }
                },
                "tiles": {
                  "type": "array",
                  "items": {
                    "type": "array",
                    "items": {
                      "$ref": "#Genie.Tile"
                    }
                  }
                }
              }
            }
          },
          "type": "object",
          "properties": {
            "world": {
              "$ref": "#Genie.World"
            }
          }
        }
      }
    },
    "Tribe": {
      "allOf": [
        {
          "$ref": "#Genie"
        }
      ],
      "definitions": {
        "Game": {
          "allOf": [
            {
              "$ref": "#Genie.Game"
            }
          ],
          "definitions": {
            "World": {
              "allOf": [
                {
                  "$ref": "#Genie.World"
                }
              ],
              "definitions": {
                "Scenario": {
                  "allOf": [
                    {
                      "$ref": "#Genie.Scenario"
                    }
                  ],
                  "definitions": {
                    "PlayerInfo": {
                      "anyOf": [
                        {
                          "type": "object",
                          "properties": {
                            "gold": {
                              "type": "integer"
                            },
                            "wood": {
                              "type": "integer"
                            },
                            "food": {
                              "type": "integer"
                            },
                            "stone": {
                              "type": "integer"
                            }
                          }
                        },
                        {
                          "type": "array",
                          "items": {
                            "type": "integer"
                          }
                        }
                      ]
                    },
                    "GlobalVictoryInfo": {
                      "type": "object",
                      "properties": {
                        "conquest":{
                          "type": "integer"
                        },
                        "ruins":{
                          "type": "integer"
                        },
                        "artifacts":{
                          "type": "integer"
                        },
                        "discoveries":{
                          "type": "integer"
                        },
                        "exploration":{
                          "type": "integer"
                        },
                        "gold":{
                          "type": "integer"
                        }
                      }
                    },
                    "IndividualVictoryInfo": {
                      "type": "object",
                      "properties": {
                        "masterObjectId": {
                          "type": "integer"
                        },
                        "allFlag": {
                          "type": "integer"
                        },
                        "playerId": {
                          "type": "integer"
                        },
                        "targetPlayerId": {
                          "type": "integer"
                        },
                        "area": {
                          "type": "array",
                          "minItems": 4,
                          "maxItems": 4,
                          "items": {
                            "type": "integer",
                            "minimum": 0
                          }
                        },
                        "type": {
                          "type": "integer"
                        },
                        "amount": {
                          "type": "integer"
                        },
                        "attributeId": {
                          "type": "integer"
                        },
                        "objectId": {
                          "type": "integer"
                        },
                        "targetObjectId": {
                          "type": "integer"
                        },
                        "objectPointer": {
                          "type": "integer"
                        },
                        "targetObjectPointer": {
                          "type": "integer"
                        }
                      },
                      "required": [
                        "type"
                      ]
                    }
                  },
                  "properties": {
                    "playersInfo": {
                      "type": "array",
                      "maxItems": 16,
                      "items": {
                        "$ref": "#/definitions/Tribe/definitions/Game/definitions/World/definitions/Scenario/definitions/PlayerInfo"
                      }
                    },
                    "globalVictories": {
                      "$ref": "#/definitions/Tribe/definitions/Game/definitions/World/definitions/Scenario/definitions/GlobalVictoryInfo"
                    },
                    "individualVictories": {
                      "type": "array",
                      "maxItems": 16,
                      "items": {
                        "anyOf": [
                          {
                            "type": "null"
                          },
                          {
                            "type": "array",
                            "items": {
                              "$ref": "#/definitions/Tribe/definitions/Game/definitions/World/definitions/Scenario/definitions/IndividualVictoryInfo"
                            }
                          }
                        ]
                      }
                    },
                    "diplomacyStances": {
                      "type": "array",
                      "maxItems": 16,
                      "items": {
                        "type": "array",
                        "maxItems": 16,
                        "items": {
                          "anyOf": [
                            {
                              "type": "string",
                              "enum": [
                                "ALLIED",
                                "NEUTRAL",
                                "VENGEFUL",
                                "ENEMY"
                              ]
                            },
                            {
                              "type": "integer"
                            }
                          ]
                        }
                      }
                    },
                    "alliedVictory": {
                      "type": "array",
                      "maxItems": 16,
                      "items": {
                        "type": "integer"
                      }
                    },
                    "victoryType": {
                      "type": "integer"
                    },
                    "victoryScore": {
                      "type": "integer"
                    },
                    "victoryTime": {
                      "type": "integer"
                    },
                    "mapType": {
                      "type": "integer",
                      "default": -1
                    },
                    "mapView": {
                      "type": "array",
                      "minItems": 2,
                      "maxItems": 2,
                      "items": {
                        "type": "integer",
                        "default": -1
                      }
                    }
                  }
                }
              },
              "properties": {
                "scenario": {
                  "$ref": "#/definitions/Tribe/definitions/Game/definitions/World/definitions/Scenario"
                }
              }
            }
          },
          "type": "object",
          "properties": {
            "world": {
              "$ref": "#/definitions/Tribe/definitions/Game/definitions/World"
            }
          }
        }
      }
    }
  },
  "type": "object",
  "properties": {
    "game": {
      "$ref": "#/definitions/Tribe/definitions/Game"
    }
  }
}
